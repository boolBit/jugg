<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
xmlns:p="http://www.springframework.org/schema/p"
xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd">
<!--<bean id="webRedisPoolConfig" class="redis.clients.jedis.JedisPoolConfig">-->
<!--<property name="maxIdle" value="20"/>-->
<!--<property name="maxWaitMillis" value="3000"/>-->
<!--<property name="testOnBorrow" value="false"/>-->
<!--<property name="testWhileIdle" value="false"/>-->
<!--</bean>-->

<bean id="cartRedisPoolConfig" class="redis.clients.jedis.JedisPoolConfig">
<property name="maxIdle" value="20"/>
<property name="minEvictableIdleTimeMillis" value="10000"/>
<property name="maxWaitMillis" value="3000"/>
<property name="testOnBorrow" value="true"/>
<property name="testWhileIdle" value="false"/>
</bean>

<!--<bean id="jedisConnFactorySession" class="org.springframework.data.redis.connection.jedis.JedisConnectionFactory"-->
<!--p:host-name="${redis.session.server}" p:port="${redis.session.port}" p:use-pool="true" p:database="0">-->
<!--<property name="poolConfig" ref="webRedisPoolConfig"/>-->
<!--</bean>-->
<!--<bean name="jedisSession" class="org.springframework.data.redis.core.StringRedisTemplate" p:connection-factory-ref="jedisConnFactorySession"/>-->

<bean id="redisConnectionFactory"
class="org.springframework.data.redis.connection.jedis.JedisConnectionFactory"
p:host-name="${redis.host}" p:port="${redis.port}" p:use-pool="true" p:database="0">
<property name="poolConfig" ref="cartRedisPoolConfig"/>
</bean>
<bean name="redisTemplate" class="org.springframework.data.redis.core.StringRedisTemplate"
p:connection-factory-ref="redisConnectionFactory"/>






</beans>